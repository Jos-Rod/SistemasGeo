<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

    <title>Vecky -> OT</title>

    <style>
        .hero-image {
            background-image: url("./imgs/background.jpg"); /* The image used */
            height: 100%; /* You must set a specified height */
            background-position: center; /* Center the image */
            background-repeat: no-repeat; /* Do not repeat the image */
            background-size: cover; /* Resize the background image to cover the entire container */
            }
    </style>

  </head>
  <body style="background-image: url('./imgs/background.jpg'); background-repeat: no-repeat; background-attachment: fixed; background-size: cover;">
    
    <div class="container">

      <!-- LOGIN -->
      <div id="divLogin" hidden>
        <div class="d-flex" style="justify-content: center; align-items: center; position: absolute; top: 0; bottom: 0; left: 0; right: 0; margin: auto;">
            <div class="card shadow" style="border-radius: 20px; border-bottom-right-radius: 60px; border-bottom-left-radius: 60px;" >
                <div class="card-body text-center">
                  <h3 class="card-title text-center">Inicio de sesión</h3>
                  <hr style="width: 75%;">
                  <form id="formLogin">
                    <p class="mb-1" style="font-size: 15pt;">Correo</p>
                    <input type="text" name="correo" class="form-control" placeholder="@email.com" style="width: 300px;">
                    <p class="mt-3 mb-1" style="font-size: 15pt;">Contraseña</p>
                    <input type="password" name="contrasena" class="form-control" placeholder="***" style="width: 300px;">
                    <p class="card-text text-center"></p>
                    <button type="submit" href="#" class="btn btn-primary mb-3 mt-2" style="width: 90%; border-radius: 10px; border-bottom-right-radius: 20px; border-bottom-left-radius: 20px;">Iniciar sesión</button>
                  </form>
                </div>
              </div>
        </div>
      </div>

      <!-- Sistema OT -->
      <div id="divOT" hidden >
        <div class="d-flex" style="justify-content: center; align-items: center; position: absolute; top: 0; bottom: 0; left: 0; right: 0; margin: auto;">
          <div style="display: block;">
            <button class="btn btn-info mr-5 mb-5" style="display: block; margin-top: 10%;" onclick="verWatcher()">Ver Mapa</button>
            <button class="btn btn-danger mr-5" style="margin-top: 10%;" onclick="salir()">Cerrar sesión</button>
          </div>
          <div class="card shadow" style="width: 670pt; height: 390pt; border-radius: 20px;">
            <div class="m-4">
              <div class="row">
                <div class="col-6">
                  <div>
                    <h4>Productos</h4>
                  </div>
                </div>
                <div class="col-6">
                  <div>
                    <h4>Productos agregados a OT</h4>
                  </div>
                </div>
              </div>
              <div id="divAcciones" class="row mt-3" hidden>
                <div class="col-6"></div>
                <div class="col-6 d-flex" style="justify-content: space-around;">
                  <select class="custom-select" style="width: 190px;" id="inputGroupSelect">
                  </select>
                  <button class="btn btn-success" onclick="crearOT()">Crear OT</button>
                </div>
              </div>
              <div class="row mt-2">
                <div class="col-6">
                  <div id="listaProd" class="row p-4 mr-3" style="height: 280pt; position: absolute; overflow: scroll;">
                    <div class="card col-12 p-2">
                      <h5>ASDF</h5>
                      <p class="mt-2">Descripcion</p>
                      <p style="text-align: right;">Precio: 234.00</p>
                      <button class="btn btn-info" style="width: 40%; margin-left: auto; margin-right: auto;" onclick="agregarProductoAOT(id, nombre)">Agregar a OT</button>
                    </div>
                  </div>
                </div>
                <div class="col-6">
                    <div id="listaOT" class="row p-4" style="width: 100%; height: 280pt; position: absolute; overflow: scroll;">
                      <div class="card col-12 p-2">
                        <h5>ASDF</h5>
                        <p style="text-align: right;">Precio: 234.00</p>
                        <button class="btn btn-danger" style="width: 40%; margin-left: auto; margin-right: auto;" onclick="quitarDeOT(id)">Quitar</button>
                      </div>
                    </div>
                </div>                
              </div>
            </div>
          </div>
          <br>
        </div>
      </div>

      <!-- View del chofer -->
      <div id="divMap" hidden>
        <div class="d-flex" style="justify-content: center; margin-top: 40px;">
          <div class="card" style="width: 80%; border-radius: 20px;">
            <h4 class="mt-5" style="text-align: center;">Chofer</h4>
            <div class="ml-3 text-center">
              <p id="correoChofer">Correo: </p>
              <h4>El pedido está siendo monitoreado...</h4>
              <img src="https://media3.giphy.com/media/5h3GbU87Xi3p56c150/giphy.gif" width="70%">
              
            </div>
          </div>
        </div>
      </div>

      <!-- View del seguidor -->
      <div id="divWatcher" hidden> 
        <button class="mt-3 btn btn-info" onclick="logeado()">Volver</button>
        <div class="card text-center" style="margin-top: 30px; border-radius: 20px; position: relative;">
          <div id="map" style="width: 90%; height: 600px; margin-left: auto; margin-right: auto; margin-top: 30px; margin-bottom: 30px;"></div>
          <div>
            <div style="height: 400px; background-color: white; width: 30%; position: absolute; bottom: 0; right: 0; border-radius: 25px;">
              <div class="p-4" id="listaChoferesMapa">
                <!-- Items de choferes -->
                <div style="background-color: beige; border-top-left-radius: 15px; border-bottom-left-radius: 15px; margin-bottom: 10px;">
                  <div class="p-2 pl-4" style="text-align: left;">
                    <h5>Chofer: Algo</h5>
                    <p>email: asdf@adsf.com</p>
                    <button class="btn btn-info" style="display: flex; margin-left: auto; border-top-left-radius: 18px; border-bottom-left-radius: 13px;" onclick="centrarEnMapa()">Ver ubicación</button>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>

    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

    
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-firestore.js"></script>

    <!-- Swal alert -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>

    <script src="../firebase/js/db.js"></script>
    <script src="./scripts/manageWindows.js"></script>
    <script src="./scripts/mapThings.js"></script>
    <script src="./scripts/principal.js"></script>
    
    <!-- Google Map -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyADjOfdGIg-7JiqjoTstMN9el4g-nLhxxA&callback=initMap" async defer></script>


  </body>
</html>